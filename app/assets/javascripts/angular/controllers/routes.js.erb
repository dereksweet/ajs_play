var moduleName = "routesApp";

var routesApp = angular.module(moduleName, ['ngRoute']);

var routesConfig = function ($routeProvider) {
  $routeProvider
    .when('/', {
        templateUrl: '<%= asset_path('pages/routes/home.html') %>',
        controller: 'homeController'
    })

    .when('/about', {
        templateUrl: '<%= asset_path('pages/routes/about.html') %>',
        controller: 'aboutController'
    })

    .when('/contact', {
        templateUrl: '<%= asset_path('pages/routes/contact.html') %>',
        controller: 'contactController'
    })

    .when('/contact/:subject', {
        templateUrl: '<%= asset_path('pages/routes/contact.html') %>',
        controller: 'contactController'
    })

    .when('/eager/:extra*', {
        templateUrl: '<%= asset_path('pages/routes/eager.html') %>',
        controller: 'eagerController'
    })

    .otherwise({
        templateUrl: '<%= asset_path('pages/routes/routeNotFound.html') %>',
        controller: 'notFoundController'
    });
};
routesConfig.$inject = ['$routeProvider'];
routesApp.config(routesConfig);

var homeController = function ($scope) {
  $scope.data = {

  };
};
homeController.$inject = ['$scope'];
routesApp.controller('homeController', homeController);

var aboutController = function ($scope) {
  $scope.data = {

  };
};
aboutController.$inject = ['$scope'];
routesApp.controller('aboutController', aboutController);

var contactController = function ($scope, $routeParams) {
  $scope.data = {

  };

  if ($routeParams['subject'] == 'learn') {
      $scope.showLearn = true;
  } else if ($routeParams['subject'] == 'complain') {
      $scope.showComplain = true;
  }
};
contactController.$inject = ['$scope', '$routeParams'];
routesApp.controller('contactController', contactController);

var eagerController = function ($scope, $routeParams) {
  $scope.data = {

  };

  $scope.extra = $routeParams['extra'];
};
eagerController.$inject = ['$scope','$routeParams'];
routesApp.controller('eagerController', eagerController);

var notFoundController = function ($scope, $location) {
  $scope.data = {
    attemptedLocation: $location.path()
  };
};
notFoundController.$inject = ['$scope', '$location'];
routesApp.controller('notFoundController', notFoundController);
