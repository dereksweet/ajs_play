//= depend_on_asset "pages/directives/showHide.html"

var directivesApp = angular.module("directivesApp", []);

directivesApp.controller('MyDirectivesCtrl', function ($scope) {
    var myData = {

    };

    $scope.data = myData;
});

directivesApp.directive('ngShowHide', function ($compile) {
    return {
        scope: {},
        restrict: 'AE',
        templateUrl: '<%= asset_path('pages/directives/showHide.html') %>',
        link: function ($scope, $element) {
            $scope.showMessage = false;
            $scope.showCount = 0;

            $scope.toggleMessage = function () {
                $scope.showMessage = !$scope.showMessage;

                if ($scope.showMessage) {
                    $scope.showCount = $scope.showCount + 1;
                }

                var myContainer = $element.find('div');
                myContainer.html('This has been shown <b>' + $scope.showCount + '</b> times');
            }
        }
    };
});

directivesApp.directive('ngCurrentTime', function ($compile, $timeout) {
    return {
      scope: {},
      restrict: 'AE',
      template: "{{ myCurrentTime | date: 'medium'}}",
      link: function ($scope, $element) {
        $scope.myCurrentTime = new Date();

        updateTime = function() {
          $scope.myCurrentTime = new Date();
          $timeout(updateTime, 1000);
        };

        $timeout(updateTime, 1000);
      }
    };
});
